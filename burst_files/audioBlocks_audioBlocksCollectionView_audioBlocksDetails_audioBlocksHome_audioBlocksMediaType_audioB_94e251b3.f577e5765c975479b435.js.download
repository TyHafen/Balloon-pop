(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{135:function(e,t,s){"use strict";var o=s(5),r=s(158),n=s(293),a=s(294);const i=function(){switch(Object(o.h)()){case"graphicstock":return n.a;case"videoblocks":return a.a;case"audioblocks":return r.a;default:return null}}();t.a=i},21:function(e,t,s){"use strict";var o=s(0),r=s.n(o),n=s(2),a=s(11),i=s(4),l=s(8),c=s(1),u=s.n(c),d=(s(14),s(94)),h=s.n(d),m=s(1275),p=s(9),g=s(46),f=s(49),b=s(50),w=s(3);const S=new g.a,y=new f.a,C=new b.a,k=new RegExp("[^“”‘’ -~ -ÿ]");function I(e,t){const s=p.Telemetry.timer("search.frontEnd.typeAhead"),o=function(e){switch(w.h.getContentClassFromContentType(e)){case w.d:return S.getTypeaheadPath();case w.f:return y.getTypeaheadPath();case w.g:return C.getTypeaheadPath();default:return""}}(e);return new Promise((e,r)=>{fetch(`${o}?keywords=${encodeURIComponent(t)}`).then(e=>e.json()).then(t=>{var s,o;null!=t&&null!==(s=t.data)&&void 0!==s&&null!==(o=s.keywords)&&void 0!==o&&o.length&&e(t.data)}).catch(r).finally(s)})}function v(e){const{contentType:t,onChange:s,onSubmit:n,searchTerm:a}=e,[l,c]=Object(o.useState)([]),[u,d]=Object(o.useState)([]),[p,g]=Object(o.useState)(!0),[f,b]=Object(o.useState)(!1),v=()=>{c([]),d([]),g(!1),b(!1)},T=Object(m.a)(async({value:e="",reason:s})=>{if("input-focused"===s)return;if(!function(e=""){return e.trim().length>1&&!k.test(e)}(e))return;if(!p)return;const o=await I(t,e);c(o.keywords),d(e.length?o.collections:[])},250,{maxWait:1e3}),R=[{suggestions:l},{title:"COLLECTIONS",suggestions:u}],E={"aria-label":"Input search: ",className:"unifiedNav-searchInput",onChange:(e,{newValue:t})=>{g(!0),s(t)},onKeyDown:e=>{"Enter"!==e.key||f||v()},placeholder:"Search...",value:a};return r.a.createElement("div",{className:"unifiedNav-searchBox"},r.a.createElement(h.a,{getSectionSuggestions:e=>e.suggestions,getSuggestionValue:e=>e.routeUri?(b(!0),a):(b(!1),e),id:"unifiedNav-searchBox-autosuggest",inputProps:E,multiSection:!0,onSuggestionsClearRequested:()=>v(),onSuggestionSelected:(e,t)=>{const{suggestion:s,suggestionValue:o}=t;"string"==typeof s&&(v(),n(e,o,i.f.TYPE_AHEAD))},onSuggestionsFetchRequested:T.callback,renderSectionTitle:e=>{var t;return e.title&&(null===(t=e.suggestions)||void 0===t?void 0:t.length)>0?r.a.createElement("h5",{className:"pt-2 pb-1 m-0 mx-2 border-0 border-b border-gray-800 border-solid"},e.title):null},renderSuggestion:(e,{query:s})=>{const{heroTitle:o,routeUri:n,typeaheadThumbnailUrl:a}=e;if(n){const e=function(e,t){switch(w.h.getContentClassFromContentType(e)){case w.d:return S.getCollectionsRoute().replace(":name",t);case w.f:return y.getCollectionsRoute().replace(":name",t);case w.g:return C.getCollectionsRoute().replace(":name",t);default:return""}}(t,n),s=a.includes("https")?a:"https://d3g7htsbjjywiv.cloudfront.net/assets/common/images/logos/storyblocks.png";return r.a.createElement("a",{href:e},r.a.createElement("img",{className:"w-8 h-8 mr-2 rounded-full",src:s,alt:"Collection thumbnail"}),o)}{const t=s.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"");return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.replace(new RegExp(t,"i"),"<b>$&</b>")}})}},renderSuggestionsContainer:({containerProps:e,children:t})=>p&&(t||u.length)?r.a.createElement("div",e,t):null,suggestions:R}))}function T(){return r.a.createElement("button",{type:"submit",className:"unifiedNav-searchButton btn-icon","aria-label":"Submit Search"},r.a.createElement("svg",{className:"icon",width:"24px",height:"24px",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.9471365,14.5813852 L15.176316,14.5813852 L14.9031138,14.315539 C16.0739803,12.9370775 16.678928,11.0564621 16.3471825,9.05769289 C15.8885931,6.32046212 13.6249179,4.13461597 10.8928961,3.79984674 C6.76559165,3.28784674 3.29202103,6.79307751 3.79939651,10.9580006 C4.13114202,13.7149237 6.29724505,15.9992314 9.00975244,16.4620006 C10.9904683,16.7967698 12.8540975,16.1863083 14.2201084,15.0047698 L14.4835533,15.2804621 L14.4835533,16.0583083 L18.6303722,20.2429237 C19.0304182,20.646616 19.684152,20.646616 20.0841981,20.2429237 C20.4842442,19.8392314 20.4842442,19.179539 20.0841981,18.7758467 L15.9471365,14.5813852 Z M10.092804,14.5813852 C7.66325596,14.5813852 5.70205457,12.6023083 5.70205457,10.150616 C5.70205457,7.69892366 7.66325596,5.71984674 10.092804,5.71984674 C12.5223519,5.71984674 14.4835533,7.69892366 14.4835533,10.150616 C14.4835533,12.6023083 12.5223519,14.5813852 10.092804,14.5813852 Z",id:"path-1"})))}v.propTypes={contentType:u.a.string,onChange:u.a.func,onSubmit:u.a.func,searchTerm:u.a.string};var R=s(55),E=s.n(R);s(179);function O({onChange:e,value:t}){return r.a.createElement("span",{className:"unifiedNav-searchDropdown"},r.a.createElement(E.a,{"aria-label":"Select Search Type",onChange:t=>{const s=t.value;e(s),p.Telemetry.increment("nav.search."+s)},options:w.e,placeholder:"Select...",value:t}))}function N(e){const{onDropdownChange:t,onSubmit:s}=e,[n,a]=Object(o.useState)(e.contentType),[i,l]=Object(o.useState)(e.searchTerm);Object(o.useEffect)(()=>{a(e.contentType)},[e.contentType]),Object(o.useEffect)(()=>{l(e.searchTerm)},[e.searchTerm]);const c=(e,t=i,o)=>{e.preventDefault(),s(n,t,o)};return r.a.createElement("form",{className:"unifiedNav-search",onSubmit:c},r.a.createElement(O,{onChange:e=>{t(e),a(e)},value:n}),r.a.createElement(v,{contentType:n,onChange:e=>l(e),onSubmit:c,searchTerm:i}),r.a.createElement(T,null))}O.propTypes={onChange:u.a.func,value:u.a.string},O.defaultProps={onChange:()=>{},value:""},N.propTypes={contentType:u.a.string,onDropdownChange:u.a.func,onSubmit:u.a.func,searchTerm:u.a.string},N.defaultProps={contentType:"",searchTerm:""};t.a=function(){const e=Object(n.e)(),t=Object(n.f)(e=>e.app.search.selectedSearchFilterOptions),{contentType:s="",searchTerm:o=""}=t,c=(e,t,s=i.f.SEARCH_BAR)=>({categories:"",contentClass:w.h.getContentClassFromContentType(e),contentType:e,isPagination:!1,page:1,searchOrigin:s,searchTerm:t,similarTo:null,searchSimilarTitle:null});return r.a.createElement(N,{contentType:s,onDropdownChange:s=>{const r=t.update(c(s,o));e(Object(l.k)(r))},onSubmit:(s,o,r)=>{const n=t.update(c(s,o,r));e(Object(l.j)(!0)),e(Object(a.f)(!0)),e(Object(l.r)(n))},searchTerm:o})}},31:function(e,t,s){"use strict";var o=s(0),r=s.n(o),n=s(2),a=s(25),i=s(68),l=s(93);class c extends o.Component{UNSAFE_componentWillMount(){this.props.hasFolderAccess&&this.props.dispatch(Object(a.g)())}render(){return r.a.createElement("div",{id:"pop-up-container"},this.props.isEnterpriseMember&&r.a.createElement(l.b,null),r.a.createElement(i.b,null))}}t.a=Object(n.c)((function(e){var t,s,o,r;const n=(null===(t=e.details)||void 0===t||null===(s=t.features)||void 0===s?void 0:s.isEnterpriseMember)||(null===(o=e.search)||void 0===o||null===(r=o.features)||void 0===r?void 0:r.isEnterpriseMember);return{instanceSpecificInfo:e.popUps.instanceSpecificInfo,isEnterpriseMember:n,hasFolderAccess:e.auth.permissions.hasFolderAccess,upgradeReason:e.popUps.context.upgradeReason}}))(c)},32:function(e,t,s){"use strict";s(87);var o=s(137),r=s.n(o),n=s(0),a=s.n(n),i=s(2),l=s(12),c=s(130);t.a=()=>{const e=Object(i.e)(),t=Object(i.f)(e=>{var t,s;return null===(t=e.auth)||void 0===t||null===(s=t.user)||void 0===s?void 0:s.id}),s=Object(i.f)(e=>{var t;return null===(t=e.npsModal)||void 0===t?void 0:t.surveyId}),o=Object(i.f)(e=>{var t;return null===(t=e.npsModal)||void 0===t?void 0:t.context}),u=Object(i.f)(e=>{var t;return null===(t=e.npsModal)||void 0===t?void 0:t.responsePromise});return Object(n.useEffect)(()=>{l.a.telemetry.increment("nps.modal.rendered")},[]),a.a.createElement(r.a,{mainQuestion:"How likely are you to recommend Storyblocks to a friend or colleague?",promoterFollowUpQuestion:"We're so happy you're happy! Can you please tell us more about your experience?",neutralFollowUpQuestion:"Thanks for your feedback! Can you please tell us more about your experience?",detractorFollowUpQuestion:"Thanks for your feedback. What could we do to improve your experience?",maxScore:10,detractorUpperBound:6,promoterLowerBound:9,onScoreClick:r=>{const n="/"+window.__CURRENT_SITE__+"/survey/"+s+"/"+t+"/"+r+"?context="+o+"&ajax=1",a=fetch(new Request(n,{method:"GET"}));e(Object(c.b)(a)),l.a.telemetry.gauge("nps.modal.scored",r)},onCommentSubmit:e=>{l.a.telemetry.increment("nps.modal.commented"),u.then(t=>{t.ok&&t.json().then(t=>{let s=new URLSearchParams;s.append("response_id",t.responseId),s.append("comment",e),fetch("/survey",{body:s,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})})})},overlayClassName:"z-1000",modalClassName:"w-screen md:w-auto",modalClassPrefix:"nps"})}},538:function(e,t,s){"use strict";var o=s(1),r=s.n(o),n=s(0),a=s.n(n),i=s(2),l=s(168),c=s(8),u=s(139),d=s(95);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class m extends n.Component{renderStockItems(){const{drawerContentLoaded:e,features:t,dispatchUpdateDrawerNumberItemsVisible:s,itemLimit:o}=this.props,r=this.props.stockItems||[],n=r.length&&o?r.slice(0,o):r;return e?a.a.createElement("div",null,a.a.createElement(d.a,{currentStockItems:n,redirectToSignUpLink:t.redirectToSignUpLink,isEnterpriseMember:t.isEnterpriseMember,shouldShowAddToFavorites:t.shouldShowAddToFavorites,context:"similarContentDrawer",containsCollapsedStockItems:!0,updateDrawerNumberItemsVisible:s,useSubscriptionlessSignUpEnticement:t.useSubscriptionlessSignUpEnticement})):a.a.createElement(l.a,null)}render(){const{close:e,customStyles:t}=this.props,s=this.buildIndicator();return a.a.createElement("div",{className:"searchDrawer w-full",style:t},s,a.a.createElement("div",{className:"content"},a.a.createElement("button",{"aria-hidden":"true",className:"collapse-button",onClick:e,title:"Close"},"×"),a.a.createElement("h4",{className:"title"},"More like this"),this.renderStockItems()))}buildIndicator(){const{indicatorClasses:e,selectedItemIndicatorOffset:t}=this.props;if(!e&&!t)return null;const s={};return t&&(s.marginLeft=t+"px",s.width="0"),a.a.createElement("div",{className:e,style:s},a.a.createElement("div",{className:"shape"}))}}h(m,"propTypes",{stockItems:r.a.arrayOf(r.a.shape({stockItem:u.a.stockItem,stockItemFormats:r.a.arrayOf(u.a.stockItemFormat)})),customStyles:r.a.object,indicatorClasses:r.a.string,selectedItemIndicatorOffset:r.a.number,drawerContentLoaded:r.a.bool,features:r.a.shape({redirectToSignUpLink:r.a.bool,isEnterpriseMember:r.a.bool,shouldShowAddToFavorites:r.a.bool,useSubscriptionlessSignupEnticement:r.a.bool}),dispatchUpdateDrawerNumberItemsVisible:r.a.func,close:r.a.func.isRequired,itemLimit:r.a.number}),h(m,"defaultProps",{customStyles:{},indicatorClasses:null,selectedItemIndicatorOffset:null,drawerContentLoaded:!1});t.a=Object(i.c)((function(e,t){const s=e.app.search;return{...t,stockItems:s.collapsedSetStockItems,drawerContentLoaded:s.drawerContentLoaded,features:s.features}}),(function(e){return{close:()=>e(Object(c.d)()),dispatchUpdateDrawerNumberItemsVisible:t=>e(Object(c.q)(t))}}))(m)},58:function(e,t,s){"use strict";var o=s(80),r=s.n(o),n=s(1),a=s.n(n),i=s(0),l=s.n(i),c=s(2),u=s(8),d=s(538),h=(s(126),s(316)),m=s.n(h);var p=class{constructor(e,t,s,o,r,n,a){this.totalHeight=0,this.blockCount=0,this.workingRow=[],this.grid=[],this.stockItems=e,this.positions={},this.layoutWidth=t,this.height=s,this.workingWidth=t,this.threshold=o,this.hideLastRow=r,this.minWidth=n,this.drawerIsLoading=!1,this.drawerIsOpen=!1,this.drawerItemCount=0,this.selectedBlockIndex=-1,this.itemsPerRow=0,this.layoutUpdateCallback=a||(()=>{})}setDrawerClosed(){this.drawerIsLoading=!1,this.drawerIsOpen=!1,this.selectedBlockIndex=-1}setDrawerLoading(e){this.drawerIsLoading=!0,this.drawerIsOpen=!0,e>=0?this.selectedBlockIndex=e:console.error("Cannot set drawer as open with a selected block index of "+e)}setDrawerPopulated(e,t,s){e>=0?this.selectedBlockIndex=e:console.error("Cannot set drawer as open with a selected block index of "+e),this.drawerIsLoading=!1,this.drawerIsOpen=!0,this.drawerItemCount=t,this.itemsPerRow=s}compute(){m()(this.stockItems,(e,t)=>{if(!("aspectRatio"in e.stockItem))return console.error("Objects passed to layoutBlocks must contain aspectRatio parameter"),!0;const s={id:e.stockItem.id,aspectRatio:e.stockItem.aspectRatio||1,noAspectRatio:null==e.stockItem.aspectRatio};this._addBlock(s)}),this.workingRow.length>0&&this._finishRow();let e={};if(this.drawerIsOpen){const t=1+this.getContainingRow(this.selectedBlockIndex),s=this.getTotalHeightOfPrecedingRows(t);e={width:this.layoutWidth,x:0,y:s}}this.layoutUpdateCallback(this.positions,this.totalHeight,e)}getContainingRow(e){if(e>this.blockCount)return-1;let t=0;for(let s=0;s<this.grid.length;s++)if(t+=this.grid[s].length,t>e)return s;return-1}getLastBlockIndexInContainingRow(e){let t=0;for(let s=0;s<this.grid.length&&(t+=this.grid[s].length-1,!(t>=e));s++);return t}getTotalHeightOfPrecedingRows(e){return this.grid.slice(0,e).reduce((e,t)=>e+Math.floor(this.positions[t[0].id].height),0)}getXMidpointForBlockById(e){if(!e)return null;const t=this.positions[e];return t.x+Math.floor(t.width/2)}_addBlock(e){this.blockCount+=1;const t=this._getBlockWidth(e,this.height);t<this.workingWidth?this._addBlockToWorkingRow(e,t):t>this.workingWidth&&this.workingWidth>this.threshold?(this._addBlockToWorkingRow(e,t),this._finishRow()):t>this.workingWidth&&this.workingWidth<=this.threshold?(this._finishRow(),this._addBlockToWorkingRow(e,t)):this._finishRow(e,t)}_finishRow(e,t){e&&this._addBlockToWorkingRow(e,t),this._scaleWorkingRow(),this.grid.push(this.workingRow),this._resetWorkingRow(),this._accountForDrawer()}_addBlockToWorkingRow(e,t){this.workingRow.push(e),this.workingWidth-=t}_getBlockWidth(e,t){const s=e.aspectRatio*t,o=s<this.minWidth,r=s>this.layoutWidth;return o?(e.noAspectRatio=!0,t*this.minWidth/this.height):r?(e.noAspectRatio=!0,this.layoutWidth):s}_resetWorkingRow(){this.workingWidth=this.layoutWidth,this.workingRow=[]}_getPreviewPos(e,t){const s=e+t;return e>this.layoutWidth-s?"left":"right"}_scaleWorkingRow(){let e,t,s,o,r,n=!1,a=0,i=this.totalHeight;this.blockCount<this.stockItems.length||this.workingWidth<0||this.workingWidth>0&&this.workingWidth<this.threshold?(e=this.height,t=this.layoutWidth-this.workingWidth,s=this.layoutWidth,o=s*e/t):this.hideLastRow?n=!0:o=+this.height,n?m()(this.workingRow,(e,t)=>{r=null,this.positions[e.id]=null}):(m()(this.workingRow,(e,t)=>{r=this._getBlockWidth(e,o),this.positions[e.id]=this._getPosition(a,i,r,o),a+=r}),this.totalHeight+=o)}_getPosition(e,t,s,o){return{x:e,y:t,width:s,height:o,previewPos:this._getPreviewPos(e,s)}}_accountForDrawer(){const e=this.getContainingRow(this.selectedBlockIndex);if(this.drawerIsOpen&&e===this.grid.length-1)if(this.drawerIsLoading)this.totalHeight+=1.3*this.height;else{const e=Math.ceil(this.drawerItemCount/this.itemsPerRow);this.totalHeight+=this._getDrawerOffset(e,this.height)}}_getDrawerOffset(e,t){return e*(t+10+2)+130}},g=s(95);function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class b extends g.a{constructor(e){super(e),f(this,"windowResizeTimer",null),f(this,"layoutEngine",null),f(this,"layoutBlocksPadding",8),f(this,"handleResize",e=>{e=e||100,this.windowResizeTimer&&clearTimeout(this.windowResizeTimer),this.windowResizeTimer=setTimeout(this.handleLayoutUpdate,e)}),f(this,"handleLayoutUpdate",()=>{if(this.searchResultsContainerRef){const e=this.searchResultsContainerRef.offsetWidth;this.setState({needsLayoutShift:!1,layoutBlocksTotalWidth:e},()=>this.initializeLayoutBlocks(this.props))}}),f(this,"initializeLayoutBlocks",e=>{const{currentStockItems:t,drawerContentLoaded:s,drawerIsOpen:o,drawerSelectedItemId:r,drawerNumberItemsVisible:n,itemsPerRow:a,pagination:i}=e,l=this.state.layoutBlocksTotalWidth,c=i&&i.hasMoreResults||!1;if(this.layoutEngine=new p(t,l,200,200,c,120,(e,t,s)=>{this.setState({drawerPosition:s,layoutBlocksPositions:e,layoutBlocksTotalHeight:t})}),o){const e=t.findIndex(e=>e.stockItem.id===r);s?this.layoutEngine.setDrawerPopulated(e,n,a):this.layoutEngine.setDrawerLoading(e)}else this.layoutEngine.setDrawerClosed();this.layoutEngine.compute()}),this.state={needsLayoutShift:!0,drawerPosition:{},layoutBlocksPositions:{},layoutBlocksTotalWidth:1800,layoutBlocksTotalHeight:400}}componentDidMount(){this.initializeLayoutBlocks(this.props),this.handleResize(500),window.addEventListener("resize",()=>{this.props.drawerIsOpen&&this.props.closeDrawer(),this.handleResize()})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}UNSAFE_componentWillReceiveProps(e){this.initializeLayoutBlocks(e)}componentDidUpdate(e){this.props!==e&&this.handleResize(500)}getSearchResultsCSSClasses(){return super.getSearchResultsCSSClasses().concat(["layout","horizontal","scale","content-info"])}getSearchResultsListStyles(){return{minHeight:this.state.layoutBlocksTotalHeight+10}}getSearchResultsContainerCSSClasses(){return super.getSearchResultsCSSClasses().concat(["layout-container"])}getStockItemCardCSSClasses(e){const t=[],s=e.stockItem.id,o=this.state.layoutBlocksPositions[s];return s in this.state.layoutBlocksPositions&&t.push(o?"layoutBlock":"hiddenLayoutBlock"),super.getSearchResultsCSSClasses().concat(t)}getStockItemCardStyles(e){let t={display:"none"};const s=e.stockItem.id,o=this.state.layoutBlocksPositions[s];return s in this.state.layoutBlocksPositions&&o&&(t={left:o.x+"px",top:o.y+"px",width:o.width+"px",height:o.height+"px",padding:this.layoutBlocksPadding+"px"}),r()(super.getStockItemCardStyles(),t)}getStockItemCardImageCSSClasses(e){const t=[];return"aspectRatio"in e.stockItem&&!e.stockItem.aspectRatio&&t.push("noAspectRatio"),super.getStockItemCardImageCSSClasses().concat(t)}getDrawerStyles(){const{width:e,x:t,y:s}=this.state.drawerPosition;return{left:t+"px",top:s+"px",width:e+"px","z-index":"100"}}calculateDrawerIndex(e,t){return 1+this.layoutEngine.getLastBlockIndexInContainingRow(e)}calculateIndicatorOffset(e){return this.layoutEngine.getXMidpointForBlockById(e)}buildDrawer(e,t){const s=this.calculateIndicatorOffset(e);return l.a.createElement(d.a,{indicatorClasses:"pointer",key:"drawer-for-"+e,selectedItemId:e,selectedItemIndicatorOffset:s,customStyles:this.getDrawerStyles()})}}f(b,"propTypes",{closeDrawer:a.a.func.isRequired,drawerContentLoaded:a.a.bool,drawerIsOpen:a.a.bool,drawerNumberItemsVisible:a.a.number,itemsPerRow:a.a.number}),f(b,"defaultProps",{drawerContentLoaded:!1,drawerIsOpen:!1});t.a=Object(c.c)((function(e){const t=e.app.search;return{drawerContentLoaded:t.drawerContentLoaded,features:t.features,isSideMenuOpened:t.isSideMenuOpened,drawerNumberItemsVisible:t.drawerNumberItemsVisible,isNewSideMenuOpened:t.menu.isOpen,isNewSideMenuSubMenuOpened:t.menu.subMenu.isOpen}}),(function(e){return{closeDrawer:()=>e(Object(u.d)())}}))(b)},95:function(e,t,s){"use strict";var o=s(6),r=s.n(o),n=s(1),a=s.n(n),i=s(0),l=s.n(i),c=s(849),u=s(7),d=s(10);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class p extends i.PureComponent{render(){const{countryCode:e}=this.props,t=e&&"US"===e.toUpperCase();return l.a.createElement(d.p,h({},this.props,{useSeasonal:t}))}}m(p,"propTypes",{countryCode:n.string}),m(p,"defaultProps",{countryCode:null});var g=s(5),f=s(8),b=s(139),w=s(538);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class y extends i.Component{constructor(...e){super(...e),S(this,"handleNextClicked",e=>{e.preventDefault(),this.props.goToPage(this.props.currentPageNumber+1)})}render(){if(void 0!==this.props.hasMoreResults&&!this.props.hasMoreResults)return null;if(this.props.currentPageNumber>=this.props.maxPageNumber)return null;const e=this.props.currentPageNumber+1,t=Object(g.j)(e);return l.a.createElement("div",{className:"load-more-container"},l.a.createElement("a",{href:t,onClick:this.handleNextClicked},"Load More"))}}S(y,"propTypes",{currentPageNumber:a.a.number.isRequired,maxPageNumber:a.a.number.isRequired,hasMoreResults:a.a.bool,goToPage:a.a.func.isRequired});var C,k,I,v=s(135),T=s(2);class R extends i.Component{render(){return l.a.createElement("div",{className:"collection-wrapper w-10/12 lg:w-1/3 xl:w-1/4 flex-shrink-0"},l.a.createElement("img",{className:"collection-image",src:this.props.thumbnailUrl,alt:this.props.name}),l.a.createElement("div",{className:"collection-image-shadow"}),l.a.createElement("div",{className:"collection-text"},l.a.createElement("div",{className:"collection-text-header"},this.props.name),l.a.createElement("a",{className:"btn btn-default collection-text-link",href:this.props.url},"View Collection")))}}C=R,k="propTypes",I={name:a.a.string,url:a.a.string,thumbnailUrl:a.a.string},k in C?Object.defineProperty(C,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[k]=I;class E extends i.Component{render(){return l.a.createElement("div",{id:"searchCollections",className:""},l.a.createElement("div",{className:"collections-container flex flex-wrap justify-center"},this.renderCollectionViews()))}renderCollectionViews(){return this.props.collections.map((e,t)=>l.a.createElement(R,{thumbnailUrl:e.thumbnailUrl,url:e.url,name:e.name,key:t}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(E,"propTypes",{collections:a.a.arrayOf(a.a.shape({name:a.a.string,url:a.a.string,thumbnailUrl:a.a.string}))});var O=s(88);function N(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class x extends i.Component{constructor(...e){super(...e),N(this,"clearFilters",e=>{e.preventDefault();let t=O.a.getDefaultSearchOptions();t=t.update({searchTerm:this.props.searchParams.searchTerm}),this.props.dispatch(Object(f.r)(t))})}render(){return this.props.shouldShowSimpleNoResults?this.renderSimpleResults():this.renderNoResultsWithCollections()}renderNoResultsWithCollections(){const e=this.renderHeaderContentType(),t=this.renderCollectionsContentType();return l.a.createElement("div",{className:"noResults"},l.a.createElement("div",{className:"noResults-topSection"},l.a.createElement("h5",{className:"noResults-topSectionHeader"},"Sorry, we couldn’t find any ",e," that match your selected criteria"),l.a.createElement("div",{className:"noResults-topSectionText"},l.a.createElement("p",null,"Here are some tips to help you find what you need:"),l.a.createElement("ul",{className:"noResults-listText"},l.a.createElement("li",null,"Try a new search term"),l.a.createElement("li",null,"Check your spelling"),l.a.createElement("li",null,"Clear your filters"))),l.a.createElement(d.n,{label:"Remove Filters",onClick:this.clearFilters})),l.a.createElement("div",{className:"noResults-collectionsSection"},l.a.createElement("h5",{className:"noResults-collectionsSectionHeader"},"Try checking out some of our Collections"),l.a.createElement("p",null,"We handpicked some of the freshest, hottest ",t," ","for you. Spend less time searching, more time creating."),l.a.createElement(E,{collections:this.collectionViewItems()})))}renderSimpleResults(){throw new TypeError(this.constructor.name+" must implement renderSimpleResults()")}collectionViewItems(){throw new TypeError(this.constructor.name+" must implement collectionViewItems()")}renderHeaderContentType(){throw new TypeError(this.constructor.name+" must implement renderHeaderContentType()")}renderCollectionsContentType(){throw new TypeError(this.constructor.name+" must implement renderCollectionsContentType()")}}N(x,"propTypes",{searchTerm:a.a.string,contentType:a.a.string,shouldShowSimpleNoResults:a.a.bool});var j=Object(T.c)((function(e,t){const s=t&&t.context||e.app.search.context;return{selectedSearchFilterOptions:e.app.search.selectedSearchFilterOptions,shouldShowSimpleNoResults:"search"!==s}}))(class extends x{renderSimpleResults(){return l.a.createElement("div",{className:"as-no-results"},l.a.createElement("p",{id:"no-search-results-text"},this.getNoResultsString()))}getNoResultsString(){const{contentType:e,tempoMax:t,musicGenres:s,musicMoods:o,tempoMin:r,categories:n,searchTerm:a,minDuration:i,maxDuration:l}=this.props.searchParams;let c="Your search for ";a&&(c+='"'+a+'"'),c+="all"!==e?" "+Object(g.y)(e):" Audio";let d=[];const h={categories:n,genres:s,moods:o};for(let e in h)h[e].length>0&&d.push(e);return(r&&r>u.e.getInstance().getMinTempo()||t&&t<u.e.getInstance().getMaxTempo())&&d.push("tempo"),c+=Object(g.u)(" with the specified ",d)+Object(g.f)(i,l)+" returned no results",c}renderHeaderContentType(){return"audio"}renderCollectionsContentType(){return"tracks"}collectionUrl(e){return"/audio/collections/"+e}collectionViewItems(){return[{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/Thumbnails/Collections/AB_2020-music_directory_web.jpg",name:"Music for a New Decade",url:this.collectionUrl("new-audio-2020")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/Motown-Music-Collection-Directory.png",name:"Motown Songs",url:this.collectionUrl("motown-music")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/samba-music-directory.jpg",name:"Samba Music",url:this.collectionUrl("samba-music")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/ziykjrd0lojv1xbnta6q-1564669914947.jpg",name:"Travel",url:this.collectionUrl("travel-video")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/vyh8opzhi0rjpudinwjn-1564675187270.jpg",name:"Intro",url:this.collectionUrl("video-intro")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/tiiwrflgyojfnpzzoakg-1571068693948.jpg",name:"Music for Explainer Videos",url:this.collectionUrl("music-for-explainer-videos")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/rm1eyudrxk3div1iflzc-1564674911761.jpg",name:"Explainer Video",url:this.collectionUrl("explainer-video")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/AB/r6gr3jgdp17fnmkg6lh5-1564674312903.jpg",name:"Sports and Fitness",url:this.collectionUrl("sports-and-fitness-video")}]}}),P=s(47);var L=Object(T.c)((function(e,t){const s=t&&t.context||e.app.search.context;return{selectedSearchFilterOptions:e.app.search.selectedSearchFilterOptions,shouldShowSimpleNoResults:"search"!==s}}))(class extends x{renderSimpleResults(){return l.a.createElement("div",{className:"as-no-results"},l.a.createElement("p",{id:"no-search-results-text"},this.getNoResultsString()))}getNoResultsString(){const{contentType:e,orientation:t,categories:s,color:o,searchTerm:r,hasTransparency:n}=this.props.searchParams;let a="Your search for ";if("all"!==t&&(a+=t+" "),r&&(a+=' "'+r+'" '),a+="all"!==e?" "+Object(g.y)(e):" Images",s&&s.length>0){a+=" in "+P.a.filter(e=>e.value&&s.includes(e.value)).filter(t=>t.contentType===e).map(e=>e.label).join(", ")}let i=[];const l={color:o,transparency:n};for(let e in l)l[e]&&l[e].length>0&&i.push(e);return a+=Object(g.u)(" with the specified ",i)+" returned no results.",a}renderHeaderContentType(){return"images"}renderCollectionsContentType(){return"images"}collectionViewItems(){return[{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/7037b43905f01717284cf96591f35d3877d8610f3a1cdde3e817a6bca5a714fa_dir.jpg",name:"Infographic Templates",url:"/images/collections/infographic-templates"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/bf22fd37710d51a307d6ff4f5613eb623fded37069465894d145cb3e98067f00_dir.jpg",name:"Event Poster Templates",url:"/images/collections/event-poster-templates"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/61f9475eb5711ede21badc4bfd7bc9e4510501036325a81046654126c9968401_dir.png",name:"Mockup Templates",url:"/images/collections/design-psd-mockups"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/e17512b30ddac3b68783394d26f84098075816ea4bd2963a6a630d5b129127dd_dir.jpg",name:"Creative Backgrounds",url:"/images/collections/background-images"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/ba9e51b2136427848e335a35c3b1175e0d271e077ec2b711b65f951191e98a68_dir.jpg",name:"Infographic Icons",url:"/images/collections/infographic-vector-icons"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/a6c5a8ba1fb117770e3a1eb6ed9cd23eec266d1467f450da9e1a57e25e4b691f_dir.jpg",name:"Creative Edge",url:"/images/collections/creative-edge-colorful-images"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/b5223beec0dc4667be96f25eb7d79764aba393634e251d86496846143e2e2da1_dir.jpg",name:"The Future of Creativity",url:"/images/collections/future-of-creativity"},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/61a4ef6170c3987bdfef7c619d395a77193f9d4f2bed4d85846d94c49566187f_dir.jpg",name:"Get Cozy",url:"/images/collections/cozy-photos"}]}}),U=s(44);var _=Object(T.c)((function(e,t){const s=t&&t.context||e.app.search.context;return{selectedSearchFilterOptions:e.app.search.selectedSearchFilterOptions,shouldShowSimpleNoResults:"search"!==s}}))(class extends x{renderSimpleResults(){return l.a.createElement("div",{className:"as-no-results"},l.a.createElement("p",{id:"no-search-results-text"},this.getNoResultsString()))}getNoResultsString(){const{contentType:e,videoQuality:t,searchTerm:s,categories:o,minDuration:r,maxDuration:n}=this.props.searchParams;let a="Your search for "+t;if(s&&(a+=' "'+s+'" in'),a+="all"!==e?" "+Object(g.y)(e):" Videos",o&&o.length>0){a+=" in "+U.a.filter(e=>e.value&&o===e.value).map(e=>e.label).join(", ")}return r&&n&&(a+=Object(g.f)(r,n)),a+" returned no results."}renderHeaderContentType(){return"videos"}renderCollectionsContentType(){return"videos"}collectionUrl(e){return"/video/collections/"+e}collectionViewItems(){return[{thumbnailUrl:__ASSETS_COMMON_IMAGES_URL__+"/collections/bio-video-monica.png",name:"Re:Stock - Diverse Stock Footage",url:"/diverse-stock-footage"},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/VB/nat-doc-directory.jpg",name:"Nature Documentary",url:this.collectionUrl("nature-documentary-footage")},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/77e7be521fe2d361cd2e5ca530645bbcfba1a89cb9b04d28ddefd968cb24e777_dir.jpg",name:"Space Exploration",url:this.collectionUrl("space-footage-exploration")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/VB/aerials_thumb.jpg",name:"Amazing Aerials",url:this.collectionUrl("premium-aerial-footage")},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/21a22701fff5588a46538be78c438f193e5c0a339575c78d01380bdbaf24c2cf_dir.png",name:"YouTube Templates",url:this.collectionUrl("youtube-intros-outros")},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/add71fbc87e813b815bbb8e9ea88ce67600b65670713917b4ecbdfc7eec2c0a9_dir.jpg",name:"Landmark Footage",url:this.collectionUrl("landmark-footage")},{thumbnailUrl:"https://d2h53m62qt2m27.cloudfront.net/collection_pages/VB/timewarp-vb-directory.jpg",name:"Timewarp Footage",url:this.collectionUrl("timewarp-footage")},{thumbnailUrl:"https://d1ow200m9i3wyh.cloudfront.net/collections//tmp/2bb09ac82effaf16a9c72dda9fe04c34a7aec6ce319965a4846dbfdeb75b93a1_dir.jpg",name:"Creator to Creator",url:this.collectionUrl("creator-to-creator")}]}});var B=function(){switch(Object(g.h)()){case"graphicstock":return L;case"videoblocks":return _;case"audioblocks":return j;default:return null}}();function M({total:e}){const t=e.toLocaleString()+(e===u.e.searchResultsLimit()?"+":"");return l.a.createElement("div",null,`${t} ${e>1?"results":"result"} found`)}function F({total:e}){return"audioblocks"===Object(g.h)()?l.a.createElement(M,{total:e}):null}function D(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class W extends i.Component{constructor(e){super(e),D(this,"renderPagination",()=>{const{isLoading:e,isLoadingAdditionalResults:t,pagination:s,countryCode:o,selectedSearchFilterOptions:r}=this.props,{resultsPerPage:n,totalResults:a}=s;return e&&t?l.a.createElement("div",{className:"search-pagination text-center"},l.a.createElement(p,{className:"pagination-spinner",width:"80px",countryCode:o})):l.a.createElement("div",{className:"search-pagination text-center"},l.a.createElement(F,{total:r.similarTo&&a>n?n:a}),this.renderInfiniteScroll())}),D(this,"renderInfiniteScroll",()=>l.a.createElement(y,{currentPageNumber:this.props.pagination.currentPageNumber,maxPageNumber:this.props.pagination.maxPageNumber,hasMoreResults:this.props.pagination.hasMoreResults,goToPage:this.props.goToSearchResultsPage})),D(this,"handleLoadingMoreCollapsedStockItems",()=>{if(Object(g.h)()!==u.b&&Object(g.h)()!==u.d)return()=>{};const e=this.props.currentStockItems.length;if(this.state.totalNumberOfCollapsedStockItemsToShow<e){const e=Math.min(this.props.currentStockItems.length,this.state.totalNumberOfCollapsedStockItemsToShow+f.a);this.setState({totalNumberOfCollapsedStockItemsToShow:e}),this.props.updateDrawerNumberItemsVisible(e)}}),this.state={totalNumberOfCollapsedStockItemsToShow:Math.min(this.props.currentStockItems.length,f.a)},this.props.updateDrawerNumberItemsVisible&&this.props.updateDrawerNumberItemsVisible(this.state.totalNumberOfCollapsedStockItemsToShow)}render(){const{isLoading:e,isLoadingAdditionalResults:t,statusCode:s,pagination:o,hideSearchResults:r,context:n}=this.props;return e&&!t?this.renderLoadingSpinner():s&&200!==s?this.renderApiError():r||(null==o?void 0:o.totalResults)<=0?this.renderNoResults():this.renderSearchResults(n)}renderLoadingSpinner(){return l.a.createElement("div",{className:"spinner-container"},l.a.createElement(p,{className:"search-results-spinner",countryCode:this.props.countryCode}))}renderNoResults(){return l.a.createElement(B,{searchParams:this.props.selectedSearchFilterOptions})}renderApiError(){const e=this.props.statusCode;let t="Oops, we’re having trouble understanding your search. Please try something simpler.";return e>=500?t="Well this is embarrassing… our search engine blew a fuse. Please try your search again later.":408===e&&(t="Well this is embarrassing… our search engine blew a fuse. Please try your search again or refresh the page."),l.a.createElement("div",{className:"as-no-results"},l.a.createElement("p",null,t))}renderSearchResults(e){return l.a.createElement("section",{className:r()(this.getSearchResultsCSSClasses()),ref:e=>{this.searchResultsContainerRef=e}},l.a.createElement(c.CSSTransitionGroup,{transitionName:"search-results-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300,id:"as-search-results",component:"div"},this.state.needsLayoutShift?this.renderLoadingSpinner():l.a.createElement("div",{className:r()(this.getSearchResultsContainerCSSClasses()),style:this.getSearchResultsListStyles()},this.renderStockItems(e))),l.a.createElement("div",{className:"clearfix"}," "),this.props.pagination&&this.props.pagination.totalResults>0&&this.renderPagination())}showLastStockItemAsLoadMoreButton(e,t){if(e=e.slice(0,this.state.totalNumberOfCollapsedStockItemsToShow),this.props.currentStockItems.length>this.state.totalNumberOfCollapsedStockItemsToShow){const s=this.state.totalNumberOfCollapsedStockItemsToShow-1;e[s]=this.renderStockItemCard(this.props.currentStockItems[s],!1,t,this.getStockItemCardContext(t,s+1),!0)}return e}renderStockItems(e){const{currentStockItems:t,drawerIsOpen:s,drawerSelectedItemId:o,itemsPerRow:r,pagination:n}=this.props;let a=t.map((s,o)=>{let r=!1;if(n){const{currentPageNumber:e,maxPageNumber:s}=n;r=e!==s&&this.shouldHideOnThreeColumnLayout(o,t.length)}return this.renderStockItemCard(s,r,e,this.getStockItemCardContext(e,o+1),!1,o>18)});if(this.props.containsCollapsedStockItems&&(a=this.showLastStockItemAsLoadMoreButton(a,e)),!s||"search"!==e)return a;const i=t.findIndex(e=>e.stockItem.id===o),l=i%r,c=this.calculateDrawerIndex(i,r),u=this.buildDrawer(o,l);return a.splice(c,0,u),a}shouldHideOnThreeColumnLayout(e,t){return e>=3*Math.floor(t/3)}renderStockItemCard(e,t,s,o,r,n){return l.a.createElement(v.a,{key:e.stockItem.id,searchLogParameters:this.props.searchLogParameters,isSelected:this.props.selectedStockItemDetails&&e.stockItem.id===this.props.selectedStockItemDetails.stockItem.id,redirectToSignUpLink:this.props.redirectToSignUpLink,hideOnThreeColumnLayout:t,style:this.getStockItemCardStyles(e),classNames:this.getStockItemCardCSSClasses(e),imgClassNames:this.getStockItemCardImageCSSClasses(e),stockItem:e.stockItem,stockItemFormats:null==e?void 0:e.stockItemFormats,minimize:this.props.showButtons,shouldShowAddToFavorites:this.props.shouldShowAddToFavorites,shouldShowSelectCheckbox:e.shouldShowSelectCheckbox,checked:e.checked,context:s||this.props.context,stockItemCardContext:o,isFavorite:e.isFavorite,page:e.page,isSavingFavorite:e.isSavingFavorite,containerResponsiveClassNames:this.props.stockItemContainerResponsiveClassNames,shouldStockItemHaveNewFlag:e.stockItem.shouldStockItemHaveNewFlag,shouldStockItemHaveStaffPickFlag:e.stockItem.shouldStockItemHaveStaffPickFlag,showFavoritesTooltip:e.showFavoritesTooltip,handleLoadingMoreCollapsedStockItems:this.handleLoadingMoreCollapsedStockItems,shouldShowDownloadButton:this.props.shouldShowDownloadButton,draggableCard:this.props.draggableCards,dropOntoHandler:this.props.dropOntoHandler,useSubscriptionlessSignUpEnticement:this.props.useSubscriptionlessSignUpEnticement,lazyLoad:n,topTags:e.topTags,stockItemArtists:e.stockItemArtists,moods:e.moods,genres:e.genres,isCollapsedStockItemLoadMoreCard:r})}getSearchResultsCSSClasses(){const e=["stock-item-group-wrapper","card-design"];return"contentType"===this.props.context&&e.push("media-type"),e}getSearchResultsListStyles(){return{}}getSearchResultsContainerCSSClasses(){return[]}getStockItemCardCSSClasses(e){return[]}getStockItemCardStyles(e){return{}}getStockItemCardImageCSSClasses(e){return[]}getDrawerStyles(){return{}}getStockItemCardContext(e,t){return{title:e,position:t}}calculateDrawerIndex(e,t){return(Math.floor(e/t)+1)*t}static getPointerClasses(e){return["col-xs-offset-1","col-sm-offset-"+4*e,"col-md-offset-"+4*e,"col-lg-offset-"+3*e,"col-xs-10","col-sm-4","col-md-4","col-lg-3","pointer"]}buildDrawer(e,t){const s=W.getPointerClasses(t).join(" "),o=Object(g.h)()===u.a?10:null;return l.a.createElement(w.a,{indicatorClasses:s,key:"drawer-for-"+e,selectedItemId:e,itemLimit:o})}}D(W,"propTypes",{currentStockItems:a.a.arrayOf(a.a.shape({stockItem:b.a.stockItem,stockItemFormats:a.a.arrayOf(b.a.stockItemFormat)})),searchLogParameters:a.a.object,isLoading:a.a.bool,isLoadingAdditionalResults:a.a.bool,selectedStockItemDetails:a.a.shape({stockItem:b.a.stockItem,stockItemFormats:a.a.arrayOf(b.a.stockItemFormat)}),itemsPerRow:a.a.number,goToSearchResultsPage:a.a.func,redirectToSignUpLink:a.a.bool,selectedSearchFilterOptions:a.a.object,pagination:a.a.shape({currentPageNumber:a.a.number,maxPageNumber:a.a.number,hasMoreResults:a.a.bool,resultsPerPage:a.a.number,totalResults:a.a.number}),showButtons:a.a.bool,shouldShowAddToFavorites:a.a.bool,context:a.a.string,stockItemContainerResponsiveClassNames:a.a.arrayOf(a.a.string),drawerIsOpen:a.a.bool,drawerSelectedItemId:a.a.number,containsCollapsedStockItems:a.a.bool,shouldShowDownloadButton:a.a.bool,updateDrawerNumberItemsVisible:a.a.func,statusCode:a.a.number,draggableCards:a.a.bool,dropOntoHandler:a.a.func,countryCode:a.a.string,useSubscriptionlessSignUpEnticement:a.a.bool,hideSearchResults:a.a.bool});t.a=W}}]);